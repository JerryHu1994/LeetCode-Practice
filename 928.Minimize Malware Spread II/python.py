class Solution(object):
    def minMalwareSpread(self, graph, initial):
        """
        :type graph: List[List[int]]
        :type initial: List[int]
        :rtype: int
        """
        dic = collections.defaultdict(list)
        for i in initial:
            queue, visited = collections.deque([i]), set(initial)
            while queue:
                curr = queue.popleft()
                for ind,val in enumerate(graph[curr]):
                    if val and ind not in visited:
                        if dic[ind] == 2:  continue
                        queue.append(ind)
                        dic[ind].append(i)
                        visited.add(ind)
        cnt = [0]*len(graph)
        for key, val in dic.iteritems():
            if len(val) == 1:   cnt[val[0]] += 1
        if max(cnt) == 0:   return min(initial)
        return cnt.index(max(cnt))